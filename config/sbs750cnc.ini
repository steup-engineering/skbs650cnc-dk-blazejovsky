# sbs750cnc.ini

[EMC]
MACHINE = SKBS 650VA CNC/DK
DEBUG = 0

[DISPLAY]
DISPLAY = axis
CYCLE_TIME = 0.02
EDITOR = pluma
OPEN_FILE = auto.ngc
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
MAX_FEED_OVERRIDE = 2.0
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 5
PROGRAM_PREFIX = /home/lcnc/linuxcnc/nc_files
INCREMENTS = 5mm 1mm .5mm .1mm .05mm .01mm .005mm
GEOMETRY = XYZACUVW
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.5
PYVCP = custompanel.xml

# Ngcgui must precede Ngcguittt
TKPKG = Ngcgui 1.0
NGCGUI_FONT       = Helvetica -10 normal
NGCGUI_PENTRIES   = 24
NGCGUI_SUBFILE    = init.ngc
NGCGUI_SUBFILE    = rect.ngc
NGCGUI_SUBFILE    = multi.ngc
NGCGUI_SUBFILE    = cut.ngc
NGCGUI_SUBFILE    = home.ngc
NGCGUI_OPTIONS    = nonew noremove

[FILTER]
PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
PROGRAM_EXTENSION = .py Python Script
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode
py = python

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[RS274NGC]
PARAMETER_FILE = linuxcnc.var

SUBROUTINE_PATH = /home/lcnc/linuxcnc/nc_files/lib/bridgesaw:/home/lcnc/linuxcnc/nc_files/lib:/home/lcnc/linuxcnc/nc_files/ngcgui_lib/bridgesaw:/home/lcnc/linuxcnc/nc_files/ngcgui_lib/bridgesaw/blazejovsky
USER_M_PATH = /home/lcnc/linuxcnc/nc_files/lib/mfiles

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
COMM_WAIT = 0.010
SERVO_PERIOD = 1000000

[HAL]
HALFILE = sbs750cnc.hal
HALFILE = sbs750cnc-aux.hal
HALFILE = sbs750cnc-axis.hal
HALFILE = sbs750cnc-spindle.hal
HALFILE = sbs750cnc-io.hal
#HALFILE = sbs750cnc-toolchange.hal
POSTGUI_HALFILE = sbs750cnc-postgui.hal
HALUI = halui

[HALUI]
MDI_COMMAND = O<home-z> CALL
MDI_COMMAND = O<home-xy> CALL
MDI_COMMAND = O<home-x> CALL
MDI_COMMAND = G53 G0 C0
MDI_COMMAND = G53 G0 C90
MDI_COMMAND = G53 G0 C180
MDI_COMMAND = G53 G0 C-90
MDI_COMMAND = G53 G0 A0
MDI_COMMAND = G53 G0 A30
MDI_COMMAND = G53 G0 A45

MDI_COMMAND = G53 G0 A90
MDI_COMMAND = O<touch-cross-x> CALL
MDI_COMMAND = O<touch-cross-y> CALL
MDI_COMMAND = O<touch-line-x> CALL
MDI_COMMAND = O<touch-line-y> CALL
MDI_COMMAND = G10 L2 P0 X#5341
MDI_COMMAND = G10 L2 P0 Y#5342
MDI_COMMAND = O<matprobe> CALL
MDI_COMMAND = O<touch-line-y-table-x> CALL
MDI_COMMAND = O<toolprobe> CALL [0]

MDI_COMMAND = O<toolprobe> CALL [1]
MDI_COMMAND = O<show-cross> CALL
MDI_COMMAND = O<vac-pod-pick> CALL [-1] [-1]
MDI_COMMAND = O<vac-pod-release> CALL
MDI_COMMAND = O<mancut> CALL [2500] [180] [-3980] [-2757] [10] [5]
MDI_COMMAND = O<mancut> CALL [2500] [0] [-3980] [-2757] [10] [5]

[TRAJ]
AXES = 6
JOINTS = 6
COORDINATES = X Y Z A C
HOME = 0 0 0 0 0
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
CYCLE_TIME = 0.010
DEFAULT_VELOCITY = 100.00
MAX_LINEAR_VELOCITY = 320.00
MAX_ANGULAR_VELOCITY = 30.00
DEFAULT_ACCELERATION = 500.00
MAX_ACCELERATION = 500.00

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[TABLE]
ARMS_YPOS_MIN = -100.0
ARMS_YPOS_MAX = 10.0
ARMS_CPOS_MIN = -70.0
ARMS_CPOS_MAX = 70.0

# Config X-Axis
[AXIS_0]
TYPE = LINEAR
HOME_SEQUENCE = 4
HOME = 0.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 100.0
HOME_LATCH_VEL = -4.0
MAX_VELOCITY = 400.0
MAX_ACCELERATION = 250.0
# Getriebe i=29, Zahnstange Modulo m=3.18, Ritzel n=25 Zähne
# -> SCALE = i/(m*n*pi)
SCALE = 0.116113
# Auflösung Encoder 0.01
ENC_SCALE = 100
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 2.0
MIN_LIMIT = -3980.1
MAX_LIMIT = 10.1

P = 5
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 600

# Config Y-Axis
[AXIS_1]
TYPE = LINEAR
HOME_SEQUENCE = 4
HOME = 0.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 100.0
HOME_LATCH_VEL = -4.0
MAX_VELOCITY = 320.0
MAX_ACCELERATION = 230.0
# Getriebe i=29, Zahnstange Modulo m=3.18, Ritzel n=22 Zähne
# -> SCALE = i/(m*n*pi)
SCALE = 0.131947
# Auflösung Encoder 0.01
ENC_SCALE = 100
#FERROR = 1
#MIN_FERROR = .25
FERROR = 10
MIN_FERROR = 2.0
MIN_LIMIT = -2757.1
MAX_LIMIT = 5.1

P = 5
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.01
MAX_OUTPUT = 350

# Config Z-Axis
[AXIS_2]
TYPE = LINEAR
HOME_SEQUENCE = 0
HOME = 0.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = 20.0
HOME_LATCH_VEL = -1.0
MAX_VELOCITY = 28.0
MAX_ACCELERATION = 500.0
# Getriebe i=320, Zahnstange Modulo m=3.18, Ritzel n=25 Zähne
# -> SCALE = i/(m*n*pi)
SCALE = -1.281247
# Auflösung Encoder 0.01
ENC_SCALE = 100
FERROR = 10
MIN_FERROR = 2.0
MIN_LIMIT = -708.1
MAX_LIMIT = 1.1

P = 10
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.1
MAX_OUTPUT = 28

# Config A-Axis
[AXIS_3]
TYPE = ANGULAR
HOME_SEQUENCE = 1
HOME = 0.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = -5.0
HOME_LATCH_VEL = 1.0
HOME_VIRTUAL_SWITCH = 820191844
HOME_IS_ABSOLUTE = 1
MAX_VELOCITY = 15.0
MAX_ACCELERATION = 50.0
# Getriebe i=29
# -> SCALE = i/360
SCALE =  -0.080556
FERROR = 5
MIN_FERROR = 1.0
MIN_LIMIT = -1.1
MAX_LIMIT = 91.1

P = 40
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.001
MAX_OUTPUT = 20

# Config B-Axis (disabled)
[AXIS_4]
TYPE = ANGULAR
HOME_SEQUENCE = 2
HOME = 0.0
MIN_LIMIT = 0.0
MAX_LIMIT = 0.0

# Config C-Axis
[AXIS_5]
TYPE = ANGULAR
HOME_SEQUENCE = 3
HOME = 0.0
HOME_OFFSET = 0.0
HOME_SEARCH_VEL = -5.0
HOME_LATCH_VEL = 1.0
HOME_VIRTUAL_SWITCH = 72385561
HOME_IS_ABSOLUTE = 1
MAX_VELOCITY = 20.0
MAX_ACCELERATION = 50.0
# Getriebe i=258
# -> SCALE = i/360
SCALE = -0.716667
FERROR = 1
MIN_FERROR = .25
MIN_LIMIT = -370.01
MAX_LIMIT = 370.01
BACKLASH = 0.075

P = 60
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0
DEADBAND = 0.0015
MAX_OUTPUT = 50



